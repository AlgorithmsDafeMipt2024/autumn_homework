# Реализация топологической сортировки через DFS

## Как работает топологическая сортировка:

Топологическая сортировка применима только к ориентированным ациклическим графам (DAG). Она упорядочивает вершины графа так, что если есть ребро от вершины A к вершине B, то A будет располагаться перед B в отсортированном списке.

Этот алгоритм использует обход в глубину (DFS). Для каждой вершины графа, которая еще не была посещена, запускается DFS. DFS проходит по всем смежным вершинам, пока не достигнет вершин, не имеющих выходящих ребер. После завершения DFS для одной вершины, она добавляется в конец вектора `ans`. После обработки всех вершин, вектор `ans` инвертируется, чтобы получить корректную топологическую сортировку.

## Объяснение кода:

```template <AllowedVertType vert_t, AllowedWeightType weight_t>```: определяет шаблон функции, позволяющий ей работать с различными (целочисленные и строковые) типами данных для вершин (`vert_t`) и весов (`weight_t`) в графе.

```C++
template <AllowedVertType vert_t, AllowedWeightType weight_t>
static void TopologicalSortStepDFS(const Graph<vert_t, weight_t>& graph,
                                   vert_t u_vert,
                                   std::unordered_map<vert_t, bool>& visited,
                                   std::vector<vert_t>& ans);
``` 
Эта рекурсивная функция реализует обход в глубину (DFS) для одной вершины графа.

Функция помечает текущую вершину как посещенную (```visited[u_vert] = true;```) и рекурсивно вызывает себя для всех смежных вершин.

После того, как все смежные вершины были обработаны, текущая вершина добавляется в конец вектора ans.

```C++
/**
 * @brief Производит топологическую сортировку вершин на основе обхода в глубину
 * (DFS)
 * @tparam vert_t: тип вершины в графе
 * @tparam weight_t: тип веса в графе
 * @param graph: сортируемый граф
 * @throw std::invalid_argument("TopologicalSort: graph is not directed.");
 * @return std::vector<vert_t>: список отсортированных вершин
 */
template <AllowedVertType vert_t, AllowedWeightType weight_t>
std::vector<vert_t> TopologicalSort(const Graph<vert_t, weight_t>& graph);
```

Основная функция, выполняющая топологическую сортировку.

Функция проверяет, является ли граф ориентированным. Если нет, то выбрасывается исключение.
Создается карта `visited` для отслеживания посещенных вершин.
Инициализируется вектор `ans`, в который будут записываться отсортированные вершины.
Функция проходит по всем вершинам графа и, если вершина не была посещена, запускает DFS (`TopologicalSortStepDFS`) для этой вершины.

В конце, вектор ans инвертируется (так как вершины добавлялись в обратном порядке) и возвращается как результат.
