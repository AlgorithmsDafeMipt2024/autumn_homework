# 5.7. Общая оценка времени работы алгоритма Эдмондса-Карпа. (не строго)

## Время работы одной итерации

В каждой итерации алгоритм Эдмондса-Карпа выполняет следующие действия:

1. **Поиск дополняющего пути с использованием BFS**:
   - BFS имеет сложность \( O(V + E) \), где \( V \) — количество вершин, \( E \) — количество рёбер.

2. **Обновление потока**:
   - Обновление потока вдоль найденного пути затрагивает не более \( O(V) \) рёбер (максимальная длина пути). Эта операция выполняется за \( O(V) \).

Итого, сложность одной итерации составляет \( O(V + E) \).

---

## Общее количество итераций

### Граф целочисленных пропускных способностей:
- Каждое увеличение потока уменьшает остаточную пропускную способность хотя бы одного рёбра дополняющего пути. Таким образом:
  - Каждый рёберный поток может быть обновлён не более \( O(C) \) раз, где \( C \) — сумма всех пропускных способностей в сети.
  - Количество итераций ограничено \( O(E \cdot C) \).

### Граф произвольных пропускных способностей:
- На каждой итерации BFS гарантирует выбор кратчайшего (в рёбрах) дополняющего пути. Доказано, что кратчайшее расстояние от истока до стока никогда не уменьшается.
- Число итераций ограничено \( O(V \cdot E) \), так как каждое рёберное расстояние увеличивается максимум \( V \) раз.

---

## Итоговая оценка времени работы

Суммарная сложность алгоритма Эдмондса-Карпа в худшем случае:

\[
O(\text{количество итераций} \cdot \text{время одной итерации}) = O(V \cdot E^2)
\]

---

## Причины худшего случая

Худший случай возникает из-за большого количества итераций, когда сеть имеет большое количество вершин и рёбер, а также при наличии узких "бутылочных горлышек", которые могут многократно перераспределять поток.

---

## Заключение

Алгоритм Эдмондса-Карпа имеет полиномиальную сложность \( O(V \cdot E^2) \), что делает его эффективным для умеренно больших сетей. Для сетей с большим числом вершин и рёбер или высокими пропускными способностями рекомендуется использовать алгоритмы с более низкой асимптотикой, такие как алгоритм Диница.
